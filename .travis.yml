language: node_js
sudo: false
node_js:
- '4'
branches:
  only:
  - master
  - /^v\d+(\.\d+)*$/
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    - llvm-toolchain-precise-3.5
    packages:
    - libstdc++6
script:
- git clone https://github.com/bit-chemist/gl-style-package-spec.git
- cd gl-style-package-spec
- bash ./task/run.sh

env:
  global:
    - secure: "VFgqlxBTbPhYCmTLnc+/FAresXbzwNDKnrNEGB2+w/JHUTatjWUkuO9GYSUaMG+G1PWltvsUkLTjxjWVZ3hA5lMD9OBB5SAVro0pPiMWvZTJ1AsZOHCZfo6UToPN7tCbGzTi8dzkLcCvGFjL/cBleWX/mCAnq6mLyqYGIE3r4RN2L5wgD2eNh4OUxBROXb0gmhtYCEvw5QoaofMbyDF6BnI3v5pGIAmTBolOaAIkp+/eCODi5MVMW/IdZA36PpFdz898PGP5BBniGNKl4OI/SrSDwtZ7BtxYBe+gTa7JbNxO7Q2hnrVslMCRioNq0gZVGEBgM5cdl2nOEuwHWeTQRo6y1bnQQbSrFhqAGQo16+W/XI6P2hvRY+CFza/PbbKnoVANulNXuNHA/hdKZTsQ0ygytwImXQb0tVqqWTBQAmxQXlPZ8rlPxP2E6Xz+s+pg36F9I1ZVstSN5WdNxApEkmyDP9GbZIeZt7RO9V5viHMYtrMDTsl3qQMtNsqOkCFjOTwy7WqVOJQcovi8qlU0Fwetxf6exIWLoAHY7UdFBfzVQBfEzksMOcSKp6kdGqoGTrAa6+btEXLmioMpE0OPNEtPG5l93vMXpvmrlsC828ZAz2WZpUayPzKYaaQemI7gU/Uc4JBYbFZgZqzGVZ+xizok9ofC++jNmqo+28L3jUQ="
deploy:
  provider: releases
  api_key: ${GITHUB_TOKEN}
  file: build/${TRAVIS_TAG}.zip
  skip_cleanup: true
  on:
    tags: true
